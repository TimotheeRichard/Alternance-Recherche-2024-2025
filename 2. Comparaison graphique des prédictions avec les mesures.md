## Comparaison graphique des prédictions avec les mesures

**On utilise le script R ci-dessous pour obtenir une comparaison graphique entre les modèles moyen et journaliers trouvés avant et les mesures faites.**

```R
DailyModel = read.csv(paste(Name_catchment,"/DailyModel_",Name_catchment,".csv",sep=""),header=TRUE,sep=",")
AveragedModel = read.csv(paste(Name_catchment,"/AveragedModel_",Name_catchment,".csv",sep=""),header=TRUE,sep=";")
AveragedModel$Date_min[1] = "1945-06-15"
X_min = c("1945-01-01",AveragedModel[!is.na(AveragedModel$Archive),"Date_min"])     ### dates 
X_max = c("1945-01-01",AveragedModel[!is.na(AveragedModel$Archive),"Date_max"])

X_min = c(AveragedModel[!is.na(AveragedModel$Archive),"Date_min"])     ### dates 
X_max = c(AveragedModel[!is.na(AveragedModel$Archive),"Date_max"]) # ces deux lignes de code créent deux nouveaux vecteurs X_min et X_max qui contiennent respectivement les valeurs des colonnes Date_min et Date_max pour les lignes où la colonne Archive n'est pas NA dans le dataframe AveragedModel

y = Core_Trajectory

jpeg(paste(Name_catchment,"/PlotPosteriorPrediction2_",Name_catchment,".jpg",sep=""),width=45,height=30,units="cm",res=73) # Crée le graphique "PlotPosteriorPrediction2_BassinVersant"

# On remplit le graphique PlotPosteriorPrediction2_Bassin versant :
plotTimeSeriesResults1(Y = postInterval,     ### inférence: objet produit par getPredictiveIntervals 
                                 # X = c(as.POSIXct("1945-01-01"),as.POSIXct(AveragedModel[!is.na(AveragedModel$Archive),"Time"])),     ### dates 
                       X = c(as.Date(AveragedModel[!is.na(AveragedModel$Archive),"Time"])),     ### dates 
                       X_min = c(as.Date(AveragedModel[!is.na(AveragedModel$Archive),"Date_min"])),     ### dates 
                       X_max = c(as.Date(AveragedModel[!is.na(AveragedModel$Archive),"Date_max"])),     ### dates 
                                  y = Core_Trajectory,     ###            ordonnées des observations éventuelles
                                  #T_daily = as.POSIXct(DailyModel$pdt),
                       T_daily = as.Date(DailyModel$pdt),
                                  Y_daily = DailyModel$CSED,
                                  xlab = "time",  ### arguments: passés à ggplot
                                  ylab = "Cs137 (Bq/kg)",
                                  #title = "Posterior Prediction of Caesium 137 \n in the Meuse catchment",
                                  title = "",
                                  pch=19, ###symbole pour les données
                                  pcol="black",
                                  palette=brewer.pal(9, "Purples"), ###couleur pour la ligne médiane 
                                  ymin=1,
                                  legend=T,
                                  xmin=NULL, 
                                  xmax=NULL)


dev.off()
```

**Voici un exemple de ce que l'on obtient dans le cas de la Moselle :**

![image](https://github.com/user-attachments/assets/6e22be2e-3bd5-4356-a222-a37c4535d329)
